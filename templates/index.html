<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>AI Resume Builder</title>
  <link rel="stylesheet" href="/static/style.css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <div class="container mt-5">
    <h2 class="text-center mb-4">âœ¨ AI Resume Builder</h2>
    <form id="resume-form">
      <div class="mb-3"><label>Full Name</label><input class="form-control" id="name" required></div>
      <div class="mb-3"><label>Address</label><input class="form-control" id="address"></div>
      <div class="mb-3"><label>Phone</label><input class="form-control" id="phone"></div>
      <div class="mb-3"><label>Email</label><input class="form-control" id="email"></div>
      <div class="mb-3"><label>Personal Summary</label><textarea class="form-control" id="summary"></textarea></div>
      <div class="mb-3"><label>Education</label><textarea class="form-control" id="education"></textarea></div>
      <div class="mb-3"><label>Work Experience</label><textarea class="form-control" id="experience"></textarea></div>
      <div class="mb-3"><label>Skills</label><textarea class="form-control" id="skills"></textarea></div>
      <div class="mb-3"><label>References</label><textarea class="form-control" id="references"></textarea></div>
      <div class="mb-3">
        <label>Template Style</label>
        <select class="form-select" id="template">
          <option value="classic">Classic</option>
          <option value="modern">Modern</option>
          <option value="elegant">Elegant</option>
        </select>
      </div>
      <button type="submit" class="btn btn-primary">Generate Resume</button>
    </form>

    <div class="mt-4" id="output" style="white-space: pre-wrap;"></div>

    <div id="download-buttons" class="mt-3 d-none">
      <button id="download-pdf" class="btn btn-success me-2">Download PDF</button>
      <button id="download-docx" class="btn btn-secondary">Download Word</button>
    </div>
  </div>

  <script>
    document.getElementById("resume-form").addEventListener("submit", function (e) {
      e.preventDefault();
      const data = {
        name: document.getElementById("name").value,
        address: document.getElementById("address").value,
        phone: document.getElementById("phone").value,
        email: document.getElementById("email").value,
        summary: document.getElementById("summary").value,
        education: document.getElementById("education").value,
        experience: document.getElementById("experience").value,
        skills: document.getElementById("skills").value,
        references: document.getElementById("references").value,
        template: document.getElementById("template").value
      };

      fetch("/generate", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      })
        .then(res => res.json())
        .then(json => {
          document.getElementById("output").innerText = json.output;
          document.getElementById("download-buttons").classList.remove("d-none");
        });
    });

    document.getElementById("download-pdf").addEventListener("click", () => window.open("/download/pdf", "_blank"));
    document.getElementById("download-docx").addEventListener("click", () => window.open("/download/docx", "_blank"));
  </script>
</body>
</html>

